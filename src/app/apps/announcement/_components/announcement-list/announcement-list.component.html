<main class="announcement-list w-100 flex-row-start pos-r over-hidden">
    <section class="filters w-25 pos-r flex-column-start pd-m over-hidden">
        <mat-card>
            <mat-card-content>
                <h3>Kërko njoftime</h3>

                <form novalidate [formGroup]="filterForm">

                    <!-- Name Field -->
                    <mat-form-field appearance="fill">
                        <mat-label>Emri</mat-label>
                        <input type="text" matInput formControlName="name" placeholder="Biçikleta...">
                        <mat-hint>Emri i produktit që doni të kërkoni</mat-hint>
                    </mat-form-field>

                    <!-- Minimum Price Slider -->
                    <mat-form-field appearance="fill">
                        <mat-label>Çmimi më i ulët</mat-label>
                        <mat-slider
                                color="primary"
                                [min]="0"
                                [max]="1000"
                                [step]="100"
                                thumbLabel
                                formControlName="price_min">
                        </mat-slider>
                        <mat-hint>Zgjidhni çmimin më të ulët që dëshironi</mat-hint>
                        <textarea matInput hidden></textarea>
                    </mat-form-field>

                    <!-- Maximum Price Slider -->
                    <mat-form-field appearance="fill">
                        <mat-label>Çmimi më i lartë</mat-label>
                        <mat-slider
                                color="primary"
                                [min]="0"
                                [max]="1000"
                                [step]="100"
                                invert
                                thumbLabel
                                formControlName="price_max">
                        </mat-slider>
                        <mat-hint>Zgjidhni çmimin më të lartë që dëshironi</mat-hint>
                        <textarea matInput hidden></textarea>
                    </mat-form-field>

                    <!-- Category Select -->
                    <mat-form-field appearance="fill">
                        <mat-label>Kategoria</mat-label>
                        <mat-select placeholder="Zgjidhni një kategori" formControlName="category">
                            <mat-option [value]="1">Kategoria 1</mat-option>
                            <mat-option [value]="1">Kategoria 2</mat-option>
                            <mat-option [value]="1">Kategoria 3</mat-option>
                        </mat-select>
                        <mat-hint>Zgjidhni një kategori për ta gjetur më shpejt njoftimin që doni</mat-hint>
                    </mat-form-field>

                    <!-- Minimum Date Created Picker -->
                    <mat-form-field appearance="fill">
                        <mat-label>Zgjidhni datën minimale</mat-label>
                        <input matInput [matDatepicker]="picker_min" formControlName="date_created_min">
                        <mat-datepicker-toggle matSuffix [for]="picker_min"></mat-datepicker-toggle>
                        <mat-datepicker #picker_min></mat-datepicker>
                        <mat-hint>Kërkimi do të bëhet për njoftimet e postuara pas kësaj date</mat-hint>
                    </mat-form-field>

                    <!-- Minimum Date Created Picker -->
                    <mat-form-field appearance="fill">
                        <mat-label>Zgjidhni datën maksimale</mat-label>
                        <input matInput [matDatepicker]="picker_max" formControlName="date_created_max">
                        <mat-datepicker-toggle matSuffix [for]="picker_max"></mat-datepicker-toggle>
                        <mat-datepicker #picker_max></mat-datepicker>
                        <mat-hint>Kërkimi do të bëhet për njoftimet e postuara përpara kësaj date</mat-hint>
                    </mat-form-field>

                    <!-- Search and Clear Buttons -->
                    <button mat-raised-button type="submit">
                        <span class="flex-center-row">
                            <mat-icon>search</mat-icon>&nbsp;
                            Kërko
                        </span>
                    </button>

                    <button mat-stroked-button type="button">
                        <span class="flex-center-row">
                            <mat-icon>clear_all</mat-icon>&nbsp;
                            Pastroje
                        </span>
                    </button>
                </form>
            </mat-card-content>
        </mat-card>
    </section>
    <section class="list w-75 pos-r over-hidden pd-m">
        <div style="height: 4px">
            <mat-progress-bar *ngIf="loading$ | async" mode="indeterminate"></mat-progress-bar>
        </div>
        <mat-card *ngFor="let announcement of announcements$ | async" class="list-item w-100 pos-r over-hidden">
            <div class="list-item-img-container over-hidden">
                <img [src]="announcement.images[0].image" alt="image">
            </div>
            <div class="list-item-details flex-column-start">
                <header class="details-header flex-column-start">
                    <h2>{{announcement.name}}</h2>
                    <div class="flex-row-start">
                        <a>{{announcement.category_name}}</a>
                        <a class="seller">{{announcement.seller_name}}</a>
                    </div>
                </header>
                <section class="description">
                    <p>{{announcement.description}}</p>
                </section>
                <section>
                    <button mat-stroked-button class="list-item-button">Lexo Me Shume</button>
                </section>
            </div>
        </mat-card>
        <mat-paginator class="mat-elevation-z4"
                       #paginator
                       [length]="announcementCount$ | async"
                       [pageSize]="10"
                       [pageSizeOptions]="[10, 15, 20]"
                       showFirstLastButtons>
        </mat-paginator>
    </section>
</main>

